WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.322
先处理好缺失的数据

00:00:02.322 --> 00:00:05.745
通常来说 接下来的清理步骤就是提高整洁度

00:00:05.745 --> 00:00:08.615
鉴于 Hadley Wickham 是整洁数据的先驱者

00:00:08.615 --> 00:00:12.400
我们先来看看他的话 这里引用了他研究这一主题的论文

00:00:12.400 --> 00:00:16.199
作为分析的准备工作 数据清理耗费了我们大量的精力

00:00:16.199 --> 00:00:18.254
但很少有人研究如何让数据清理

00:00:18.254 --> 00:00:20.879
尽可能地简单高效

00:00:20.879 --> 00:00:22.439
这份论文解决的是数据清理的一小步

00:00:22.440 --> 00:00:26.105
但也是很重要的一步 提高数据整洁度

00:00:26.105 --> 00:00:29.560
这段话最关键的就是 整洁的数据集易于操作

00:00:29.559 --> 00:00:31.424
把这点和数据整理联系起来

00:00:31.425 --> 00:00:34.469
虽有质量问题却整洁的小数据集

00:00:34.469 --> 00:00:38.539
往往要比有质量问题还不整洁的数据集容易清理

00:00:38.539 --> 00:00:42.024
也就是说 一般而言 最好先解决整洁度问题

00:00:42.024 --> 00:00:43.424
也就是结构问题

00:00:43.424 --> 00:00:45.195
然后再去解决质量问题

00:00:45.195 --> 00:00:46.844
也就是内容问题

00:00:46.844 --> 00:00:50.414
看看我们这个口服胰岛素临床试验数据集的例子

00:00:50.414 --> 00:00:54.174
我们找出并记录了数据集四个不整洁的地方

00:00:54.174 --> 00:00:55.604
第一个是患者表

00:00:55.604 --> 00:00:57.592
一列里有两个变量

00:00:57.593 --> 00:00:59.010
也就是这个联系方式列中

00:00:59.009 --> 00:01:01.649
放了电话号码和电子邮件两个变量

00:01:01.649 --> 00:01:02.850
然后是治疗表

00:01:02.850 --> 00:01:05.579
三个变量放在了两列里

00:01:05.579 --> 00:01:09.959
也即 auralin 和 novodra 列中的疗法、起始剂量和结束剂量

00:01:09.959 --> 00:01:12.449
起始剂量在这 结束剂量在这

00:01:12.450 --> 00:01:16.504
第三个变量 疗法则分别为列名 auralin 和 novodra

00:01:16.504 --> 00:01:19.364
第三是不良反应表不该存在

00:01:19.364 --> 00:01:23.644
治疗表中应有一列记录不良反应

00:01:23.644 --> 00:01:27.359
也就是说 这列不良反应应合并到这个治疗表里

00:01:27.359 --> 00:01:31.469
第四是名 (given_name) 和姓氏 (surname)两列冗余

00:01:31.469 --> 00:01:36.349
治疗表和不良反应表里都有这两列 但它们只需在患者表中出现一次即可

00:01:36.349 --> 00:01:41.369
这里是 patients.info 的结果 名和姓氏都出来了

00:01:41.370 --> 00:01:45.210
treatments.info 和 adverse_reactions.info
里也出现了名和姓氏

00:01:45.209 --> 00:01:50.929
要处理大量的不整洁数据集 只需一小套工具即可

00:01:50.930 --> 00:01:55.000
接下来 你将使用 pandas 里最常见的几种工具来解决上述的四个问题

