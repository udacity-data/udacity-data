WEBVTT
Kind: captions
Language: ar

00:00:00.000 --> 00:00:03.000
حسنًا، القائمة الفارغة من القواميس،

00:00:03.000 --> 00:00:04.935
df_list، موجودة بالفعل من أجلك،

00:00:04.934 --> 00:00:11.079
بالإضافة إلى الحلقة التي تعمل عبر كل ملف في مجلد
rt_html الخاص بنا.

00:00:11.080 --> 00:00:13.410
فالشيء الأول الذي نريد فعله هو عمل soup،

00:00:13.410 --> 00:00:16.995
الذي نقوم بعمله من خلال تمرير ملف معالجة الملف،

00:00:16.995 --> 00:00:18.632
أو أي شيء أطلق عليه اسم معالجة الملف.

00:00:18.632 --> 00:00:21.900
إن أول شيء يمكن أخذه من HTML كان العنوان،

00:00:21.899 --> 00:00:25.469
عنوان الفيلم، الذي تم تنفيذه سابقًا.

00:00:25.469 --> 00:00:29.714
مرة أخرى، باستخدام طريقة البحث للحصول على علامة
العنوان الوحيدة في المستند،

00:00:29.714 --> 00:00:32.789
ثم الوصول إلى محتويات هذا الملف باستخدام. محتويات،

00:00:32.789 --> 00:00:39.670
والحصول على العنصر الأول في تلك العلامة وتقطيع تلك
الأخيرة "- Rotten Tomatoes".

00:00:39.670 --> 00:00:43.079
دعونا نلقي نظرة هنا ونصحح بعض الأخطاء،

00:00:43.079 --> 00:00:44.274
فقط في حالة حدوث خطأ ما.

00:00:44.274 --> 00:00:46.854
لذلك سنقوم بالمرور من خلال هذه الحلقة مرة واحدة،

00:00:46.854 --> 00:00:49.019
ثم نطبع متغير العنوان كما هو موجود هنا،

00:00:49.020 --> 00:00:50.645
ثم نقطع من الحلقة.

00:00:50.645 --> 00:00:53.185
هذه ممارسة جيدة. حسنا، وهناك العنوان.

00:00:53.185 --> 00:00:56.224
لقد نسيت بالفعل تحديد محلل lxml،

00:00:56.223 --> 00:00:59.454
وهو جيد في الواقع، ولكن سأحدده على أي حال.

00:00:59.454 --> 00:01:01.199
حسنًا ، يمكن أن ننتقل من هنا، لا يوجد تحذير.

00:01:01.200 --> 00:01:04.070
ويتمثل الشيء الآخر الذي نريد الحصول عليه في
audience_score.

00:01:04.069 --> 00:01:07.379
دعنا نأخذ التعليمة البرمجية لـ HTML لنرى أين هي.

00:01:07.379 --> 00:01:10.019
إذًا، هناك نسبة 72% وهي في الواقع ضمن

00:01:10.019 --> 00:01:14.409
div مع الفئة التي تحمل عنوان مقياس نقاط الجمهور.

00:01:14.409 --> 00:01:17.670
إذا ألقيت نظرة أكثر قربًا، فسترى أن نسبة 72%

00:01:17.670 --> 00:01:21.795
تقع ضمن علامة الامتداد فقط ضمن علامة القسمة الخارجية
هذه،

00:01:21.795 --> 00:01:24.655
والخارجية تكون هي div،

00:01:24.655 --> 00:01:27.564
ومرة أخرى، مقياس فئة نقاط الجمهور.

00:01:27.564 --> 00:01:29.204
ونظرًا لكونها أول علامة امتداد،

00:01:29.204 --> 00:01:31.284
يمكننا استخدام أسلوب the.find،

00:01:31.284 --> 00:01:37.054
وهو soup جميل، للحصول على العلامة الأولى لأي علامة
نستخدمها في البحث.

00:01:37.055 --> 00:01:42.795
ولكن في المقام الأول، سيتعين علينا فعليًا تحديد div
باستخدام مقياس فئة نقاط الجمهور،

00:01:42.795 --> 00:01:44.844
والذي يتم إجراؤه على النحو التالي.

00:01:44.844 --> 00:01:47.310
لاحظ أن الفئة يجب أن تحتوي على تسطير سفلي بعدها.

00:01:47.310 --> 00:01:50.810
ذلك لأن الفئة هي كلمة أساسية محجوزة في Python.

00:01:50.810 --> 00:01:53.894
وسنجد علامة الامتداد الأولى ضمن div هذه،

00:01:53.894 --> 00:01:57.524
وتأخذ فاصلًا هنا مرة أخرى وننظر إلى أين نحن فيما
يتعلق بهذا الكود.

00:01:57.525 --> 00:01:58.760
سنمر من خلال هذا الكود مرة واحدة،

00:01:58.760 --> 00:01:59.960
ونطبع نقاط الجمهور،

00:01:59.959 --> 00:02:03.774
ثم نقطع من الحلقة مرة أخرى. حسنًا، كل شيء يبدو
جيدًا.

00:02:03.775 --> 00:02:05.200
ستصل إلى محتويات هذه العلامة،

00:02:05.200 --> 00:02:09.490
using.contents ولأنه العنصر الأول والوحيد في هذه
العلامة،

00:02:09.490 --> 00:02:12.870
سنستخدم الفهرس 0، أي

00:02:12.870 --> 00:02:17.710
العنصر الأول من القائمة التي ترجع from.contents،
وبذلك نكون قد انتهينا تقريبًا.

00:02:17.710 --> 00:02:21.870
نحن بالفعل لا نريد علامة النسبة المئوية هذه.

00:02:21.870 --> 00:02:25.270
لذلك سنتخلص منها باستخدام بعض الأجزاء الأساسية من
تحليل السلسلة.

00:02:25.270 --> 00:02:29.310
الحصول على كل شيء في السلسلة باستثناء آخر حرف فيها،
وهذا رائع.

00:02:29.310 --> 00:02:31.625
فقد حصلنا على نقاط الجمهور.

00:02:31.625 --> 00:02:35.004
والآن للحصول على عدد تصنيفات الجمهور.

00:02:35.004 --> 00:02:37.400
يبدو ذلك أكثر تعقيدًا إلى حد ما.

00:02:37.400 --> 00:02:40.064
دعونا نلقي نظرة خاطفة على التعليمة البرمجية لـ HTML
مرة أخرى.

00:02:40.064 --> 00:02:42.569
إذا انتقلنا إلى الأسفل قليلاً، فسنشاهد تصنيفات
المستخدم

00:02:42.569 --> 00:02:45.709
هنا أو عدد تصنيفات الجمهور.

00:02:45.710 --> 00:02:47.014
هذا لصفحة HTML الخاصة بفيلم E.T.،

00:02:47.014 --> 00:02:51.555
لكن هذه البنية تنطبق على جميع الملفات التي
نزّلناها.

00:02:51.555 --> 00:02:52.944
لذلك، من الصعب بعض الشيء أن نراها هنا،

00:02:52.944 --> 00:02:55.979
ولكن علامة القسمة الخارجية هي تلك الموجودة هنا

00:02:55.979 --> 00:03:02.054
مع فئة معلومات الجمهور - المخفية -xs
superPageFontColor.

00:03:02.055 --> 00:03:04.469
حسنًا، دعونا نركز على ذلك باستخدام BeautifulSoup.

00:03:04.469 --> 00:03:07.685
هذا الأمر قليل نوعًا ما، لذا سأقوم بنسخه ولصقه
هنا.

00:03:07.685 --> 00:03:11.284
مرة أخرى، دعونا نستخدم إستراتيجية الحلقة والطباعة
والفصل.

00:03:11.284 --> 00:03:13.430
يبدو هذا أكثر وضوحًا.

00:03:13.430 --> 00:03:16.335
هنا القسمة الخارجية مع الفئة التي حددناها،

00:03:16.335 --> 00:03:20.754
معلومات الجمهور - المخفية -xs superPageFontColor،

00:03:20.754 --> 00:03:24.509
وداخل علامة div هذه توجد علامتي div،

00:03:24.509 --> 00:03:28.129
وعدد تصنيفات الجمهور يكون في علامة div الثانية.

00:03:28.129 --> 00:03:33.174
يمكننا استخدام البحث عن الكل وأخذ العنصر الثاني في
تلك القائمة التي تم إرجاعها.

00:03:33.175 --> 00:03:35.795
العنصر الثاني هو الرقم القياسي 1.

00:03:35.794 --> 00:03:37.254
ثم إذا نظرنا إلى المحتويات هنا،

00:03:37.254 --> 00:03:40.335
فسنرى عدد تصنيفات الجمهور لدينا،

00:03:40.335 --> 00:03:42.480
ورقم مؤشر العنصر الثالث 2.

00:03:42.479 --> 00:03:46.929
هناك مجموعة من الفراغات هنا والتي سوف نزيلها باستخدام
دالة شريط Python،

00:03:46.930 --> 00:03:49.200
ونصبح على وشك الانتهاء.

00:03:49.199 --> 00:03:51.284
هذا حاليًا في شكل سلسلة.

00:03:51.284 --> 00:03:53.819
سنضطر في وقت لاحق إلى التحويل إلى عدد صحيح،

00:03:53.819 --> 00:03:56.199
وسيتعين علينا فعليًا إزالة هذه الفواصل.

00:03:56.199 --> 00:03:58.574
لذا، سنفعل ذلك باستخدام دالة الاستبدال من Python،

00:03:58.574 --> 00:04:01.204
لتحل محل الفواصل مع الحرف الفارغ.

00:04:01.205 --> 00:04:03.045
وهناك سننتقل والآن،

00:04:03.044 --> 00:04:05.919
كل ما تبقى للقيام به هو تحويل قائمة القواميس،

00:04:05.919 --> 00:04:08.734
df_list، إلى إطار بيانات Pandas.

00:04:08.735 --> 00:04:13.155
أولاً، سوف نتأكد من أن مكتبة Pandas مستوردة ومعروفة
باسم PD،

00:04:13.155 --> 00:04:15.265
وسوف نحدد ترتيب الأعمدة،

00:04:15.264 --> 00:04:16.985
ويجب أن تكون كذلك.

00:04:16.985 --> 00:04:18.745
دعونا نعالج هذه الخلية.

00:04:18.745 --> 00:04:20.535
قد يستغرق هذا بعض الوقت للتشغيل.

00:04:20.535 --> 00:04:24.110
بالنسبة لي، حوالي 15 ثانية أو نحو ذلك.

00:04:24.110 --> 00:04:26.879
وهذا رائع، فلا توجد أخطاء.

00:04:26.879 --> 00:04:28.665
دعونا نلقي نظرة على إطار البيانات هذا.

00:04:28.665 --> 00:04:31.080
وهذا مثالي، فلنكمل.

