<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Histograms
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      Univariate Exploration of Data
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Introduction.html">
       01. Introduction
      </a>
     </li>
     <li class="">
      <a href="02. Tidy Data.html">
       02. Tidy Data
      </a>
     </li>
     <li class="">
      <a href="03. Bar Charts.html">
       03. Bar Charts
      </a>
     </li>
     <li class="">
      <a href="04. Absolute vs. Relative Frequency.html">
       04. Absolute vs. Relative Frequency
      </a>
     </li>
     <li class="">
      <a href="05. Counting Missing Data.html">
       05. Counting Missing Data
      </a>
     </li>
     <li class="">
      <a href="06. Bar Chart Practice.html">
       06. Bar Chart Practice
      </a>
     </li>
     <li class="">
      <a href="07. Pie Charts.html">
       07. Pie Charts
      </a>
     </li>
     <li class="">
      <a href="08. Histograms.html">
       08. Histograms
      </a>
     </li>
     <li class="">
      <a href="09. Histogram Practice.html">
       09. Histogram Practice
      </a>
     </li>
     <li class="">
      <a href="10. Figures, Axes, and Subplots.html">
       10. Figures, Axes, and Subplots
      </a>
     </li>
     <li class="">
      <a href="11. Choosing a Plot for Discrete Data.html">
       11. Choosing a Plot for Discrete Data
      </a>
     </li>
     <li class="">
      <a href="12. Descriptive Statistics, Outliers and Axis Limits.html">
       12. Descriptive Statistics, Outliers and Axis Limits
      </a>
     </li>
     <li class="">
      <a href="13. Scales and Transformations.html">
       13. Scales and Transformations
      </a>
     </li>
     <li class="">
      <a href="14. Scales and Transformations Practice.html">
       14. Scales and Transformations Practice
      </a>
     </li>
     <li class="">
      <a href="15. Lesson Summary.html">
       15. Lesson Summary
      </a>
     </li>
     <li class="">
      <a href="16. Extra Kernel Density Estimation.html">
       16. Extra: Kernel Density Estimation
      </a>
     </li>
     <li class="">
      <a href="17. Extra Waffle Plots.html">
       17. Extra: Waffle Plots
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          08. Histograms
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
         <p>
          L3 081 Histograms V2
         </p>
        </h3>
        <video controls="">
         <source src="08. L3 081 Histograms V2-RLez9L0htGQ.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="08. L3 081 Histograms V2-RLez9L0htGQ.en.vtt" srclang="en"/>
         <track default="false" kind="subtitles" label="BR" src="08. L3 081 Histograms V2-RLez9L0htGQ.pt-BR.vtt" srclang="BR"/>
         <track default="false" kind="subtitles" label="CN" src="08. L3 081 Histograms V2-RLez9L0htGQ.zh-CN.vtt" srclang="CN"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <hr/>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          DataVis L3 08 V2
         </p>
        </h3>
        <video controls="">
         <source src="08. DataVis L3 08 V2-f1we_0dUSXg.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="08. DataVis L3 08 V2-f1we_0dUSXg.en.vtt" srclang="en"/>
         <track default="false" kind="subtitles" label="BR" src="08. DataVis L3 08 V2-f1we_0dUSXg.pt-BR.vtt" srclang="BR"/>
         <track default="false" kind="subtitles" label="CN" src="08. DataVis L3 08 V2-f1we_0dUSXg.zh-CN.vtt" srclang="CN"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <hr/>
         <h2 id="histograms">
          Histograms
         </h2>
         <p>
          A
          <strong>
           histogram
          </strong>
          is used to plot the distribution of a numeric variable. It's the quantitative version of the bar chart. However, rather than plot one bar for each unique numeric value, values are grouped into continuous bins, and one bar for each bin is plotted depicting the number. For instance, using the default settings for matplotlib's
          <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist.html" rel="noopener noreferrer" target="_blank">
           <code>
            hist
           </code>
          </a>
          function:
         </p>
         <pre><code class="python language-python">plt.hist(data = df, x = 'num_var')</code></pre>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="" class="img img-fluid" src="img/l3-c08-histograms1.png"/>
          <figcaption class="figure-caption">
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          You can see that there are eight data points that fall in the range between about 0 and 2.5 in the leftmost bin, and nine points in the range from about 2.5 to 5 in the adjacent bin. Overall, a generally bimodal distribution is observed (one with two peaks or humps). The direct adjacency of the bars in the histogram, in contrast to the separated bars in a bar chart, emphasize the fact that the data takes on a continuous range of values. When a data value is on a bin edge, it is counted in the bin to its right. The exception is the rightmost bin edge, which places data values equal to the uppermost limit into the right-most bin (to the upper limit's left).
         </p>
         <p>
          By default, the
          <code>
           hist
          </code>
          function divides the data into 10 bins, based on the range of values taken. In almost every case, we will want to change these settings. Usually, having only ten bins is too few to really understand the distribution of the data. And the default tick marks are often not on nice, 'round' values that make the ranges taken by each bin easy to interpret. Wouldn't it be better if I said "between 0 and 2.5" instead of "between
          <em>
           about
          </em>
          0 and 2.5", and "from 2.5 to 5" instead of "from
          <em>
           about
          </em>
          2.5 to 5" above?
         </p>
         <p>
          You can use descriptive statistics (e.g. via
          <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.describe.html" rel="noopener noreferrer" target="_blank">
           <code>
            df['num_var'].describe()
           </code>
          </a>
          ) to gauge what minimum and maximum bin limits might be appropriate for the plot. These bin edges can be set using numpy's
          <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html" rel="noopener noreferrer" target="_blank">
           <code>
            arange
           </code>
          </a>
          function:
         </p>
         <pre><code class="python language-python">bin_edges = np.arange(0, df['num_var'].max()+1, 1)
plt.hist(data = df, x = 'num_var', bins = bin_edges)</code></pre>
         <p>
          The first argument to
          <code>
           arange
          </code>
          is the leftmost bin edge, the second argument the upper limit, and the third argument the bin width. Note that even though I've specified the "max" value in the second argument, I've added a "+1" (the bin width). That is because
          <code>
           arange
          </code>
          will only return values that are strictly less than the upper limit. Adding in "+1" is a safety measure to ensure that the rightmost bin edge is at least the maximum data value, so that all of the data points are plotted. The leftmost bin is set as a hardcoded value to get a nice, interpretable value, though you could use functions like numpy's
          <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.around.html" rel="noopener noreferrer" target="_blank">
           <code>
            around
           </code>
          </a>
          if you wanted to approach that end programmatically.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="" class="img img-fluid" src="img/l3-c08-histograms2.png"/>
          <figcaption class="figure-caption">
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          When creating histograms, it's useful to play around with different bin widths to see what represents the data best. Too many bins, and you may see too much noise that interferes with identification of the underlying signal. Too few bins, and you may not be able to see the true signal in the first place.
         </p>
         <pre><code class="python language-python">plt.figure(figsize = [10, 5]) # larger figure size for subplots

# histogram on left, example of too-large bin size
plt.subplot(1, 2, 1) # 1 row, 2 cols, subplot 1
bin_edges = np.arange(0, df['num_var'].max()+4, 4)
plt.hist(data = df, x = 'num_var', bins = bin_edges)

# histogram on right, example of too-small bin size
plt.subplot(1, 2, 2) # 1 row, 2 cols, subplot 2
bin_edges = np.arange(0, df['num_var'].max()+1/4, 1/4)
plt.hist(data = df, x = 'num_var', bins = bin_edges)</code></pre>
         <p>
          This example puts two plots side by side through use of the
          <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplot.html" rel="noopener noreferrer" target="_blank">
           <code>
            subplot
           </code>
          </a>
          function, whose arguments specify the number of rows, columns, and index of the active subplot (in that order). The
          <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.figure.html" rel="noopener noreferrer" target="_blank">
           <code>
            figure()
           </code>
          </a>
          function is called with the "figsize" parameter so that we can have a larger figure to support having multiple subplots. (More details on figures and subplots are coming up next in the lesson.)
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="" class="img img-fluid" src="img/l3-c08-histograms3.png"/>
          <figcaption class="figure-caption">
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="alternative-approach">
          Alternative Approach
         </h2>
         <p>
          The seaborn function
          <a href="https://seaborn.pydata.org/generated/seaborn.distplot.html" rel="noopener noreferrer" target="_blank">
           <code>
            distplot
           </code>
          </a>
          can also be used to plot a histogram, and is integrated with other univariate plotting functions.
         </p>
         <pre><code class="python language-python">sb.distplot(df['num_var'])</code></pre>
         <p>
          When we specify the data to be plotted, note that the first argument
          <em>
           must
          </em>
          be the Series or array with the points to be plotted. This is in contrast to our ability to specify a data source and column as separate arguments, like we've seen with and
          <code>
           countplot
          </code>
          and
          <code>
           hist
          </code>
          .
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="" class="img img-fluid" src="img/l3-c08-histograms4.png"/>
          <figcaption class="figure-caption">
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          The
          <code>
           distplot
          </code>
          function has built-in rules for specifying histogram bins, and by default plots a curve depicting the kernel density estimate (KDE) on top of the data. The vertical axis is based on the KDE, rather than the histogram: you shouldn't expect the total heights of the bars to equal 1, but the area under the curve should equal 1. If you want to learn more about KDEs, check out the extra page at the end of the lesson.
         </p>
         <p>
          Despite the fact that the default bin-selection formula used by
          <code>
           distplot
          </code>
          might be better than the choice of ten bins that
          <code>
           .hist
          </code>
          uses, you'll still want to do some tweaking to align the bins to 'round' values. You can use other parameter settings to plot just the histogram and specify the bins like before:
         </p>
         <pre><code class="python language-python">bin_edges = np.arange(0, df['num_var'].max()+1, 1)
sb.distplot(df['num_var'], bins = bin_edges, kde = False,
            hist_kws = {'alpha' : 1})</code></pre>
         <p>
          The alpha (transparency) setting must be associated as a dictionary to "hist_kws" since there are other underlying plotting functions, like the KDE, that have their own optional keyword parameters.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="" class="img img-fluid" src="img/l3-c08-histograms2.png"/>
          <figcaption class="figure-caption">
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          The result of the code above is exactly like the histogram above with bin width of 1. The units of the vertical axis are also back in terms of counts.
         </p>
         <p>
          In summary, if your exploration is only interested in the histogram-depiction of the data, and not the additional functionality offered by
          <code>
           distplot
          </code>
          , then you might be better off with just using Matplotlib's
          <code>
           hist
          </code>
          function for simplicity. On the other hand, if you want a quick start on choosing a representative bin size for histogram plotting, you might take a quick look at the basic
          <code>
           distplot
          </code>
          first before getting into the customization.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="09. Histogram Practice.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('08. Histograms')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
