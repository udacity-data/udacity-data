WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.529
现在 我们可以解压文件

00:00:02.529 --> 00:00:05.384
通过 Python 解压文件库进行解压

00:00:05.384 --> 00:00:08.740
使用代码来做整理工作且可重复操作

00:00:08.740 --> 00:00:12.769
这与使用外部程序或点击解压文件正好相反

00:00:12.769 --> 00:00:15.924
于是我们将 zip 文件库导入单元格中

00:00:15.925 --> 00:00:19.789
然后按下 “Shift” 和 “Enter”

00:00:19.789 --> 00:00:21.019
这个时候 我们应该打开

00:00:21.019 --> 00:00:23.089
zip 文件库文档

00:00:23.089 --> 00:00:25.875
找到读取 zip 文件内容的方法

00:00:25.875 --> 00:00:29.035
你可以简略浏览这里 内容有些密集

00:00:29.035 --> 00:00:30.620
我想使用浏览器的查找功能 即 Command+F 或 Control+F

00:00:30.620 --> 00:00:35.289
这取决于你的操作系统

00:00:35.289 --> 00:00:36.774
我们来找找读取功能

00:00:36.774 --> 00:00:39.699
我们需要读取 zip 文件内容

00:00:39.700 --> 00:00:45.555
好的 Class zipfile.ZipFile 是 zip 文件的读写类别

00:00:45.554 --> 00:00:50.615
然后我们转到这里 “ZipFile 对象”

00:00:50.615 --> 00:00:53.859
如果你对 Python 类别不熟 别担心

00:00:53.859 --> 00:00:59.582
这意味着我们可以给 zipfile.ZipFile 设置一些参数

00:00:59.582 --> 00:01:01.234
合称“创建者”

00:01:01.234 --> 00:01:03.994
创建一个“对象”

00:01:03.994 --> 00:01:08.204
该对象具有特殊的编码能力 也称为“方法”

00:01:08.204 --> 00:01:10.210
好的 如果你通读此处文字

00:01:10.210 --> 00:01:16.010
会注意到 Mode 参数应该为 “r” 以读取当前文件

00:01:16.010 --> 00:01:17.800
这正是我们想做的

00:01:17.799 --> 00:01:21.554
继续向下滚动会看到

00:01:21.555 --> 00:01:28.116
“ZipFile 也是一个上下文管理器 因此支持 With 语句”

00:01:28.115 --> 00:01:31.590
上下文管理器是读取文件的常用功能之一

00:01:31.590 --> 00:01:33.219
读写文件时

00:01:33.219 --> 00:01:35.200
我们需要打开一个文件

00:01:35.200 --> 00:01:37.465
这个动作会消耗电脑上的资源

00:01:37.465 --> 00:01:39.085
如果我们忘记关闭文件

00:01:39.084 --> 00:01:41.984
我们可能会遇到错误消息或系统崩溃

00:01:41.984 --> 00:01:45.010
上下文管理器可确保关闭所有打开的文件

00:01:45.010 --> 00:01:48.225
并恰当地清理我们使用的所有资源

00:01:48.224 --> 00:01:52.799
好的 我将这个代码复制、粘贴至 Jupyter Notebook 中

00:01:52.799 --> 00:01:56.155
但是现在或过后还不能复制、粘贴

00:01:56.155 --> 00:01:58.719
只要可能 最好用键盘打出代码

00:01:58.719 --> 00:02:00.745
这样做有助于你的学习 但为了节省时间

00:02:00.745 --> 00:02:03.340
我先复制和粘贴

00:02:03.340 --> 00:02:04.793
我们实际还需要一样东西

00:02:04.793 --> 00:02:07.730
zipfile.ZipFile 这样才能让代码生效

00:02:07.730 --> 00:02:10.217
好的 我们不需要使用 ‘w’ 命令 即这里的 write 方法

00:02:10.217 --> 00:02:13.080
来写入 zip 文件

00:02:13.080 --> 00:02:17.225
我们想在 zip 文件内提取或读取文件

00:02:17.224 --> 00:02:21.634
使用 Google 快速搜索让我找到了这个方法

00:02:21.634 --> 00:02:25.774
可以看到 Extractall 不需要任何参数

00:02:25.775 --> 00:02:29.110
三项皆默认为无

00:02:29.110 --> 00:02:32.155
它与 write 方法相反 我马上会删掉这个 write 方法

00:02:32.155 --> 00:02:39.027
好的 我们将代码更改为无需任何参数的 myzip.extractall

00:02:39.027 --> 00:02:44.524
现在要做的是改变这两个参数 即 file 和 mode

00:02:44.525 --> 00:02:49.219
file 是 zip 文件的名称 而 mode 是我们想用这个文件做什么

00:02:49.219 --> 00:02:51.199
比如读取或写入

00:02:51.199 --> 00:02:53.000
我们要打开的 zip 文件应与 Jupyter Notebook

00:02:53.000 --> 00:02:55.905
位于相同目录下

00:02:55.905 --> 00:02:57.640
我们继续改变这些参数

