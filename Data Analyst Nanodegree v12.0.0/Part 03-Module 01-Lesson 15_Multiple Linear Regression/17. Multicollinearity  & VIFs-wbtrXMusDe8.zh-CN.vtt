WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:03.399
多重线性回归模型的主要假设之一

00:00:03.399 --> 00:00:07.349
是我们的预测变量彼此不相关

00:00:07.349 --> 00:00:10.734
我们希望预测变量与反应变量相关

00:00:10.734 --> 00:00:12.734
而不是彼此之间具有相关性

00:00:12.734 --> 00:00:15.939
在这个例子中 我们要观察房屋的特点

00:00:15.939 --> 00:00:18.114
你可以假设房屋大小

00:00:18.114 --> 00:00:19.539
卧室数量

00:00:19.539 --> 00:00:23.460
卫生间数量都存在相关性

00:00:23.460 --> 00:00:28.150
我们可能认为房屋越大 拥有越多的卧室和卫生间

00:00:28.149 --> 00:00:30.714
我们使用 seaborn 快速观察一下

00:00:30.714 --> 00:00:34.189
每对变量之间的关系

00:00:34.189 --> 00:00:36.684
这里你可以看到我读取 seaborn 为 sb

00:00:36.685 --> 00:00:40.425
我使用 matplotlib inline 这样可以看到图形

00:00:40.424 --> 00:00:43.629
Seaborn 包含的 pairplot

00:00:43.630 --> 00:00:47.660
可以让我们观察每个变量之间的关系

00:00:47.659 --> 00:00:53.082
这里我想要观察这三个 x 变量之间的关系

00:00:53.082 --> 00:00:58.739
即面积 卧室和卫生间

00:00:58.740 --> 00:01:01.210
可以看到这些关系

00:01:01.210 --> 00:01:04.299
彼此之间具有极强的正相关

00:01:04.299 --> 00:01:06.369
所以你可以发现卫生间和

00:01:06.370 --> 00:01:09.025
面积具有很强的正相关

00:01:09.025 --> 00:01:10.900
面积和卧室之间

00:01:10.900 --> 00:01:12.940
卧室和卫生间之间也是如此

00:01:12.939 --> 00:01:15.200
我们看一下这里

00:01:15.200 --> 00:01:17.389
我觉得这样可以了 卫生间和面积的关系

00:01:17.390 --> 00:01:19.320
面积和卧室的关系

00:01:19.319 --> 00:01:22.554
那么这三个散点图与这三个相匹配

00:01:22.555 --> 00:01:26.105
随着 x 和 y 轴发生变化

00:01:26.105 --> 00:01:28.525
现在我们使用者三个系数

00:01:28.525 --> 00:01:30.700
试着拟合多重线性回归模型

00:01:30.700 --> 00:01:33.862
首先我们通常要创建截距

00:01:33.862 --> 00:01:35.480
我运行 statsmodels 简写为 sm

00:01:35.480 --> 00:01:41.620
那么我将要这样拟合 sm.OLS 所以我们要预测的内容

00:01:41.620 --> 00:01:45.100
是“价格” 使用截距

00:01:45.099 --> 00:01:50.719
和所有这些 x 变量

00:01:50.719 --> 00:01:54.120
我从这里复制一下

00:01:54.120 --> 00:01:56.550
然后我们把它存储在线性模型中

00:01:56.549 --> 00:01:58.920
现在完成了

00:01:58.920 --> 00:02:01.049
有意思的是

00:02:01.049 --> 00:02:03.810
虽然我们希望面积

00:02:03.810 --> 00:02:07.545
卧室和卫生间与反应变量存在相同的关系

00:02:07.545 --> 00:02:11.430
即随着它们增加 反应变量也应该增加

00:02:11.430 --> 00:02:15.355
但卧室与反应变量存在负系数

00:02:15.354 --> 00:02:20.159
那么虽然价格和卧室与其他变量存在正相关

00:02:20.159 --> 00:02:24.199
但是在多重线性回归模型中 两者呈现负相关

00:02:24.199 --> 00:02:27.839
对这一系数的解释与我们直觉上认为的是相反的

00:02:27.840 --> 00:02:32.263
在双变量例子中实际上为真

00:02:32.263 --> 00:02:36.900
这是模型中多重共线性的一个潜在副作用

00:02:36.900 --> 00:02:40.409
即这与你认为是正确的系数恰好相反

00:02:40.409 --> 00:02:44.164
另一个常见的方式是认为我们的预测值之间具有相关性

00:02:44.164 --> 00:02:46.889
除了我们看到的散点图

00:02:46.889 --> 00:02:50.724
还有方差膨胀因子 简写为 VIF

00:02:50.724 --> 00:02:54.405
下面提供了对于这个话题进行有效说明的链接

00:02:54.405 --> 00:03:00.164
从 statsmodels 中 我们计算得出每个 x 变量的方差膨胀因子

00:03:00.164 --> 00:03:05.854
这里的矩阵是我们从 patsy 中读取的

00:03:05.854 --> 00:03:08.819
可以让我们创建 x 和 y 的方程式

00:03:08.819 --> 00:03:11.039
方程式可以得到矩阵

00:03:11.039 --> 00:03:13.814
然后我们传递到方差膨胀因子函数中

00:03:13.814 --> 00:03:16.353
方差膨胀因子可以写入 statsmodels

00:03:16.353 --> 00:03:22.629
利用截距得到价格

00:03:22.629 --> 00:03:32.939
以及面积 卧室和卫生间

00:03:32.939 --> 00:03:35.859
这里我们已经得到了截距

00:03:35.860 --> 00:03:38.838
所以我再次运行 消除两个截距

00:03:38.837 --> 00:03:41.354
看起来有点奇怪

00:03:41.354 --> 00:03:44.189
我们可以看到每个变量的方差膨胀因子

00:03:44.189 --> 00:03:47.805
都可以从我创建的方差膨胀因子DataFrame中获取

00:03:47.805 --> 00:03:51.599
我们想要删除两个变量中的至少一个

00:03:51.599 --> 00:03:55.685
因为两者方差膨胀因子都大于 10

00:03:55.685 --> 00:03:59.250
在接下来的视频中将继续讨论这一话题

00:03:59.250 --> 00:04:00.289
然后你可以自己尝试一下

